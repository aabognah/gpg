# GPG cookbook for Chef

Installs and configures GPG on a system

Also installs `havegd` to increase entropy.

# Generating Keys

Further reading for generating keys can be found [here](https://www.gnupg.org/documentation/manuals/gnupg-devel/Unattended-GPG-key-generation.html).

## Generating using the Custom Resource

`gpg_generate 'foo'`

This uses all the default options

## Options

Property                 | Short Description                                                                      | Default Values
------------------------ | -------------------------------------------------------------------------------------- | -------------------------------------
override_default_keyring | Use in conjunction with `pubring_file` & `secring_file` to specify a different keyring | `false`                               |
pubring_file             | Public keyring file                                                                    |                                       |
secring_file             | Private keyring file                                                                   |                                       |
user                     | user to generate the keyfile for                                                       | `root`                                |
gpg_opts                 |                                                                                        | none                                  |
name_real                |                                                                                        | `Chef Default`                        |
name_comment             |                                                                                        | `generated by Chef`                   |
name_email               |                                                                                        | `node.name@example.com`               |
expire_date              |                                                                                        | `0` (never)                           |
batch_config_file        |                                                                                        | `/tmp/gpg_batch_config/resource_name` |
key_type                 |                                                                                        | `RSA`                                 |
key_length               |                                                                                        | `2048`                                |
passphrase               |                                                                                        |                                       |
no_protection            |                                                                                        |                                       |
transient_key            |                                                                                        |                                       |

## Actions

- `:generate` (default)
- `:import` Imports from a key file
- `:export` Exports a key file
- `:delete_public_key`
- `:delete_secret_keys`
